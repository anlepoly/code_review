diff --git a/src/declarative/debugger/qdeclarativedebug.h b/src/declarative/debugger/qdeclarativedebug.h
index 433a717..79b7910 100644
--- a/src/declarative/debugger/qdeclarativedebug.h
+++ b/src/declarative/debugger/qdeclarativedebug.h
@@ -42,7 +42,7 @@
 #ifndef QDECLARATIVEDEBUG_H
 #define QDECLARATIVEDEBUG_H
 
-#include <QtCore/qglobal.h>
+#include <QtQuick1/qtquick1global.h>
 
 QT_BEGIN_HEADER
 
@@ -50,7 +50,7 @@ QT_BEGIN_NAMESPACE
 
 QT_MODULE(Declarative)
 
-struct Q_DECLARATIVE_EXPORT QDeclarativeDebuggingEnabler
+struct Q_QUICK1_EXPORT QDeclarativeDebuggingEnabler
 {
     QDeclarativeDebuggingEnabler();
 };
diff --git a/src/declarative/debugger/qdeclarativedebugclient_p.h b/src/declarative/debugger/qdeclarativedebugclient_p.h
index 2ac42b8..c7292f7 100644
--- a/src/declarative/debugger/qdeclarativedebugclient_p.h
+++ b/src/declarative/debugger/qdeclarativedebugclient_p.h
@@ -44,7 +44,7 @@
 
 #include <QtNetwork/qtcpsocket.h>
 
-#include <private/qdeclarativeglobal_p.h>
+#include <private/qtquick1global_p.h>
 
 QT_BEGIN_HEADER
 
@@ -53,7 +53,7 @@ QT_BEGIN_NAMESPACE
 QT_MODULE(Declarative)
 
 class QDeclarativeDebugConnectionPrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDebugConnection : public QTcpSocket
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDebugConnection : public QTcpSocket
 {
     Q_OBJECT
     Q_DISABLE_COPY(QDeclarativeDebugConnection)
@@ -69,7 +69,7 @@ private:
 };
 
 class QDeclarativeDebugClientPrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDebugClient : public QObject
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDebugClient : public QObject
 {
     Q_OBJECT
     Q_DECLARE_PRIVATE(QDeclarativeDebugClient)
diff --git a/src/declarative/debugger/qdeclarativedebuggerstatus_p.h b/src/declarative/debugger/qdeclarativedebuggerstatus_p.h
index 9a0f536..31d1861 100644
--- a/src/declarative/debugger/qdeclarativedebuggerstatus_p.h
+++ b/src/declarative/debugger/qdeclarativedebuggerstatus_p.h
@@ -44,7 +44,7 @@
 
 #include <QtCore/qobject.h>
 
-#include <private/qdeclarativeglobal_p.h>
+#include <private/qtquick1global_p.h>
 
 QT_BEGIN_HEADER
 
@@ -52,7 +52,7 @@ QT_BEGIN_NAMESPACE
 
 QT_MODULE(Declarative)
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDebuggerStatus
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDebuggerStatus
 {
 public:
     virtual ~QDeclarativeDebuggerStatus();
diff --git a/src/declarative/debugger/qdeclarativedebughelper_p.h b/src/declarative/debugger/qdeclarativedebughelper_p.h
index 179d37c..e38644c 100644
--- a/src/declarative/debugger/qdeclarativedebughelper_p.h
+++ b/src/declarative/debugger/qdeclarativedebughelper_p.h
@@ -42,9 +42,7 @@
 #ifndef QDECLARATIVEDEBUGHELPER_P_H
 #define QDECLARATIVEDEBUGHELPER_P_H
 
-#include <QtCore/qglobal.h>
-
-#include <private/qdeclarativeglobal_p.h>
+#include <private/qtquick1global_p.h>
 
 QT_BEGIN_HEADER
 
@@ -55,7 +53,7 @@ class QDeclarativeEngine;
 
 // Helper methods to access private API through a stable interface
 // This is used in the qmljsdebugger library of QtCreator.
-class Q_DECLARATIVE_EXPORT QDeclarativeDebugHelper
+class Q_QUICK1_EXPORT QDeclarativeDebugHelper
 {
 public:
     static QScriptEngine *getScriptEngine(QDeclarativeEngine *engine);
diff --git a/src/declarative/debugger/qdeclarativedebugserver_p.h b/src/declarative/debugger/qdeclarativedebugserver_p.h
index 21601ed..17b4c1a 100644
--- a/src/declarative/debugger/qdeclarativedebugserver_p.h
+++ b/src/declarative/debugger/qdeclarativedebugserver_p.h
@@ -54,7 +54,7 @@ QT_MODULE(Declarative)
 class QDeclarativeDebugService;
 
 class QDeclarativeDebugServerPrivate;
-class Q_DECLARATIVE_EXPORT QDeclarativeDebugServer : public QObject
+class Q_QUICK1_EXPORT QDeclarativeDebugServer : public QObject
 {
     Q_OBJECT
     Q_DECLARE_PRIVATE(QDeclarativeDebugServer)
diff --git a/src/declarative/debugger/qdeclarativedebugserverconnection_p.h b/src/declarative/debugger/qdeclarativedebugserverconnection_p.h
index dc41abe..a806ce8 100644
--- a/src/declarative/debugger/qdeclarativedebugserverconnection_p.h
+++ b/src/declarative/debugger/qdeclarativedebugserverconnection_p.h
@@ -42,7 +42,8 @@
 #ifndef QDECLARATIVEDEBUGSERVERCONNECTION_H
 #define QDECLARATIVEDEBUGSERVERCONNECTION_H
 
-#include <private/qdeclarativeglobal_p.h>
+#include <private/qtquick1global_p.h>
+#include <QtCore/qobject.h>
 
 //
 //  W A R N I N G
@@ -62,7 +63,7 @@ QT_BEGIN_NAMESPACE
 QT_MODULE(Declarative)
 
 class QDeclarativeDebugServer;
-class Q_DECLARATIVE_EXPORT QDeclarativeDebugServerConnection
+class Q_QUICK1_EXPORT QDeclarativeDebugServerConnection
 {
 public:
     QDeclarativeDebugServerConnection() {}
diff --git a/src/declarative/debugger/qdeclarativedebugservice_p.h b/src/declarative/debugger/qdeclarativedebugservice_p.h
index 9fd4507..c97cd4c 100644
--- a/src/declarative/debugger/qdeclarativedebugservice_p.h
+++ b/src/declarative/debugger/qdeclarativedebugservice_p.h
@@ -44,7 +44,7 @@
 
 #include <QtCore/qobject.h>
 
-#include <private/qdeclarativeglobal_p.h>
+#include <private/qtquick1global_p.h>
 
 QT_BEGIN_HEADER
 
@@ -53,7 +53,7 @@ QT_BEGIN_NAMESPACE
 QT_MODULE(Declarative)
 
 class QDeclarativeDebugServicePrivate;
-class Q_DECLARATIVE_EXPORT QDeclarativeDebugService : public QObject
+class Q_QUICK1_EXPORT QDeclarativeDebugService : public QObject
 {
     Q_OBJECT
     Q_DECLARE_PRIVATE(QDeclarativeDebugService)
diff --git a/src/declarative/debugger/qdeclarativeenginedebug_p.h b/src/declarative/debugger/qdeclarativeenginedebug_p.h
index a6ac757..9c1246a 100644
--- a/src/declarative/debugger/qdeclarativeenginedebug_p.h
+++ b/src/declarative/debugger/qdeclarativeenginedebug_p.h
@@ -45,7 +45,7 @@
 #include <QtCore/qurl.h>
 #include <QtCore/qvariant.h>
 
-#include <private/qdeclarativeglobal_p.h>
+#include <private/qtquick1global_p.h>
 
 QT_BEGIN_HEADER
 
@@ -67,7 +67,7 @@ class QDeclarativeDebugObjectReference;
 class QDeclarativeDebugFileReference;
 class QDeclarativeDebugEngineReference;
 class QDeclarativeEngineDebugPrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeEngineDebug : public QObject
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeEngineDebug : public QObject
 {
 Q_OBJECT
 public:
@@ -114,7 +114,7 @@ private:
     Q_DECLARE_PRIVATE(QDeclarativeEngineDebug)
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDebugWatch : public QObject
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDebugWatch : public QObject
 {
 Q_OBJECT
 public:
@@ -145,7 +145,7 @@ private:
     int m_objectDebugId;
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDebugPropertyWatch : public QDeclarativeDebugWatch
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDebugPropertyWatch : public QDeclarativeDebugWatch
 {
     Q_OBJECT
 public:
@@ -158,7 +158,7 @@ private:
     QString m_name;
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDebugObjectExpressionWatch : public QDeclarativeDebugWatch
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDebugObjectExpressionWatch : public QDeclarativeDebugWatch
 {
     Q_OBJECT
 public:
@@ -173,7 +173,7 @@ private:
 };
 
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDebugQuery : public QObject
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDebugQuery : public QObject
 {
 Q_OBJECT
 public:
@@ -197,7 +197,7 @@ private:
     State m_state;
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDebugFileReference 
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDebugFileReference
 {
 public:
     QDeclarativeDebugFileReference();
@@ -218,7 +218,7 @@ private:
     int m_columnNumber;
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDebugEngineReference
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDebugEngineReference
 {
 public:
     QDeclarativeDebugEngineReference();
@@ -235,7 +235,7 @@ private:
     QString m_name;
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDebugObjectReference
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDebugObjectReference
 {
 public:
     QDeclarativeDebugObjectReference();
@@ -266,7 +266,7 @@ private:
     QList<QDeclarativeDebugObjectReference> m_children;
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDebugContextReference
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDebugContextReference
 {
 public:
     QDeclarativeDebugContextReference();
@@ -287,7 +287,7 @@ private:
     QList<QDeclarativeDebugContextReference> m_contexts;
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDebugPropertyReference
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDebugPropertyReference
 {
 public:
     QDeclarativeDebugPropertyReference();
@@ -312,7 +312,7 @@ private:
 };
 
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDebugEnginesQuery : public QDeclarativeDebugQuery
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDebugEnginesQuery : public QDeclarativeDebugQuery
 {
 Q_OBJECT
 public:
@@ -327,7 +327,7 @@ private:
     QList<QDeclarativeDebugEngineReference> m_engines;
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDebugRootContextQuery : public QDeclarativeDebugQuery
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDebugRootContextQuery : public QDeclarativeDebugQuery
 {
 Q_OBJECT
 public:
@@ -342,7 +342,7 @@ private:
     QDeclarativeDebugContextReference m_context;
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDebugObjectQuery : public QDeclarativeDebugQuery
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDebugObjectQuery : public QDeclarativeDebugQuery
 {
 Q_OBJECT
 public:
@@ -358,7 +358,7 @@ private:
 
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDebugExpressionQuery : public QDeclarativeDebugQuery
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDebugExpressionQuery : public QDeclarativeDebugQuery
 {
 Q_OBJECT
 public:
diff --git a/src/declarative/debugger/qdeclarativeenginedebugservice_p.h b/src/declarative/debugger/qdeclarativeenginedebugservice_p.h
index 2f0bad8..e0dfdea 100644
--- a/src/declarative/debugger/qdeclarativeenginedebugservice_p.h
+++ b/src/declarative/debugger/qdeclarativeenginedebugservice_p.h
@@ -123,10 +123,10 @@ private:
     QDeclarativeWatcher *m_watch;
     QList<QWeakPointer<QDeclarativeState> > m_allStates;
 };
-Q_DECLARATIVE_PRIVATE_EXPORT QDataStream &operator<<(QDataStream &, const QDeclarativeEngineDebugService::QDeclarativeObjectData &);
-Q_DECLARATIVE_PRIVATE_EXPORT QDataStream &operator>>(QDataStream &, QDeclarativeEngineDebugService::QDeclarativeObjectData &);
-Q_DECLARATIVE_PRIVATE_EXPORT QDataStream &operator<<(QDataStream &, const QDeclarativeEngineDebugService::QDeclarativeObjectProperty &);
-Q_DECLARATIVE_PRIVATE_EXPORT QDataStream &operator>>(QDataStream &, QDeclarativeEngineDebugService::QDeclarativeObjectProperty &);
+Q_QUICK1_PRIVATE_EXPORT QDataStream &operator<<(QDataStream &, const QDeclarativeEngineDebugService::QDeclarativeObjectData &);
+Q_QUICK1_PRIVATE_EXPORT QDataStream &operator>>(QDataStream &, QDeclarativeEngineDebugService::QDeclarativeObjectData &);
+Q_QUICK1_PRIVATE_EXPORT QDataStream &operator<<(QDataStream &, const QDeclarativeEngineDebugService::QDeclarativeObjectProperty &);
+Q_QUICK1_PRIVATE_EXPORT QDataStream &operator>>(QDataStream &, QDeclarativeEngineDebugService::QDeclarativeObjectProperty &);
 
 QT_END_NAMESPACE
 
diff --git a/src/declarative/debugger/qdeclarativeinspectorinterface_p.h b/src/declarative/debugger/qdeclarativeinspectorinterface_p.h
index b65751e..9d92f85 100644
--- a/src/declarative/debugger/qdeclarativeinspectorinterface_p.h
+++ b/src/declarative/debugger/qdeclarativeinspectorinterface_p.h
@@ -42,7 +42,7 @@
 #ifndef QDECLARATIVEOBSERVERINTERFACE_H
 #define QDECLARATIVEOBSERVERINTERFACE_H
 
-#include <QtQuick1/private/qdeclarativeglobal_p.h>
+#include <QtQuick1/private/qtquick1global_p.h>
 
 QT_BEGIN_HEADER
 
@@ -50,7 +50,7 @@ QT_BEGIN_NAMESPACE
 
 QT_MODULE(Declarative)
 
-class Q_DECLARATIVE_EXPORT QDeclarativeInspectorInterface
+class Q_QUICK1_EXPORT QDeclarativeInspectorInterface
 {
 public:
     QDeclarativeInspectorInterface() {}
diff --git a/src/declarative/debugger/qdeclarativeinspectorservice_p.h b/src/declarative/debugger/qdeclarativeinspectorservice_p.h
index 7f4a17d..200a069 100644
--- a/src/declarative/debugger/qdeclarativeinspectorservice_p.h
+++ b/src/declarative/debugger/qdeclarativeinspectorservice_p.h
@@ -56,7 +56,7 @@ QT_MODULE(Declarative)
 class QDeclarativeView;
 class QDeclarativeInspectorInterface;
 
-class Q_DECLARATIVE_EXPORT QDeclarativeInspectorService : public QDeclarativeDebugService
+class Q_QUICK1_EXPORT QDeclarativeInspectorService : public QDeclarativeDebugService
 {
     Q_OBJECT
 
diff --git a/src/declarative/debugger/qpacketprotocol_p.h b/src/declarative/debugger/qpacketprotocol_p.h
index b6f6899..103c3b5 100644
--- a/src/declarative/debugger/qpacketprotocol_p.h
+++ b/src/declarative/debugger/qpacketprotocol_p.h
@@ -45,7 +45,7 @@
 #include <QtCore/qobject.h>
 #include <QtCore/qdatastream.h>
 
-#include <private/qdeclarativeglobal_p.h>
+#include <private/qtquick1global_p.h>
 
 QT_BEGIN_HEADER
 
@@ -59,7 +59,7 @@ class QPacket;
 class QPacketAutoSend;
 class QPacketProtocolPrivate;
 
-class Q_DECLARATIVE_EXPORT QPacketProtocol : public QObject
+class Q_QUICK1_EXPORT QPacketProtocol : public QObject
 {
 Q_OBJECT
 public:
@@ -91,7 +91,7 @@ private:
 };
 
 
-class Q_DECLARATIVE_EXPORT QPacket : public QDataStream
+class Q_QUICK1_EXPORT QPacket : public QDataStream
 {
 public:
     QPacket();
@@ -109,7 +109,7 @@ protected:
     QBuffer * buf;
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QPacketAutoSend : public QPacket
+class Q_QUICK1_PRIVATE_EXPORT QPacketAutoSend : public QPacket
 {
 public:
     virtual ~QPacketAutoSend();
diff --git a/src/declarative/declarative.pro b/src/declarative/declarative.pro
index fc43048..754e6e9 100644
--- a/src/declarative/declarative.pro
+++ b/src/declarative/declarative.pro
@@ -12,7 +12,7 @@ MODULE_PRI = ../../modules/qt_quick1.pri
 MODULE=quick1
 load(qt_module_config)
 
-DEFINES   += QT_BUILD_DECLARATIVE_LIB QT_NO_URL_CAST_FROM_STRING
+DEFINES   += QT_BUILD_QUICK1_LIB QT_NO_URL_CAST_FROM_STRING
 
 win32-msvc*|win32-icc:QMAKE_LFLAGS += /BASE:0x66000000
 solaris-cc*:QMAKE_CXXFLAGS_RELEASE -= -O2
@@ -30,6 +30,10 @@ include(util/util.pri)
 include(graphicsitems/graphicsitems.pri)
 include(debugger/debugger.pri)
 
+HEADERS += \
+    qtquick1global.h \
+    qtquick1global_p.h
+
 linux-g++-maemo:DEFINES += QDECLARATIVEVIEW_NOBACKGROUND
 
 DEFINES += QT_NO_OPENTYPE
diff --git a/src/declarative/graphicsitems/qdeclarativeanchors_p.h b/src/declarative/graphicsitems/qdeclarativeanchors_p.h
index 77ff185..96d79ee 100644
--- a/src/declarative/graphicsitems/qdeclarativeanchors_p.h
+++ b/src/declarative/graphicsitems/qdeclarativeanchors_p.h
@@ -48,7 +48,7 @@
 
 #include <QtCore/QObject>
 
-#include <private/qdeclarativeglobal_p.h>
+#include <private/qtquick1global_p.h>
 
 QT_BEGIN_HEADER
 
@@ -58,7 +58,7 @@ QT_MODULE(Declarative)
 
 class QDeclarativeAnchorsPrivate;
 class QDeclarativeAnchorLine;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeAnchors : public QObject
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeAnchors : public QObject
 {
     Q_OBJECT
 
diff --git a/src/declarative/graphicsitems/qdeclarativeevents_p_p.h b/src/declarative/graphicsitems/qdeclarativeevents_p_p.h
index c92faff..7f6e9d1 100644
--- a/src/declarative/graphicsitems/qdeclarativeevents_p_p.h
+++ b/src/declarative/graphicsitems/qdeclarativeevents_p_p.h
@@ -60,7 +60,7 @@
 
 QT_BEGIN_NAMESPACE
 
-class Q_DECLARATIVE_EXPORT QDeclarativeKeyEvent : public QObject
+class Q_QUICK1_EXPORT QDeclarativeKeyEvent : public QObject
 {
     Q_OBJECT
     Q_PROPERTY(int key READ key)
@@ -89,7 +89,7 @@ private:
     QKeyEvent event;
 };
 
-class Q_DECLARATIVE_EXPORT QDeclarativeMouseEvent : public QObject
+class Q_QUICK1_EXPORT QDeclarativeMouseEvent : public QObject
 {
     Q_OBJECT
     Q_PROPERTY(int x READ x)
diff --git a/src/declarative/graphicsitems/qdeclarativeitem.h b/src/declarative/graphicsitems/qdeclarativeitem.h
index f55a14b..b2ac42a 100644
--- a/src/declarative/graphicsitems/qdeclarativeitem.h
+++ b/src/declarative/graphicsitems/qdeclarativeitem.h
@@ -64,7 +64,7 @@ class QDeclarativeTransition;
 class QDeclarativeKeyEvent;
 class QDeclarativeAnchors;
 class QDeclarativeItemPrivate;
-class Q_DECLARATIVE_EXPORT QDeclarativeItem : public QGraphicsObject, public QDeclarativeParserStatus
+class Q_QUICK1_EXPORT QDeclarativeItem : public QGraphicsObject, public QDeclarativeParserStatus
 {
     Q_OBJECT
     Q_INTERFACES(QDeclarativeParserStatus)
@@ -216,7 +216,7 @@ T qobject_cast(QGraphicsItem *item)
 }
 
 #ifndef QT_NO_DEBUG_STREAM
-QDebug Q_DECLARATIVE_EXPORT operator<<(QDebug debug, QDeclarativeItem *item);
+QDebug Q_QUICK1_EXPORT operator<<(QDebug debug, QDeclarativeItem *item);
 #endif
 
 QT_END_NAMESPACE
diff --git a/src/declarative/graphicsitems/qdeclarativeitem_p.h b/src/declarative/graphicsitems/qdeclarativeitem_p.h
index 5a98c59..076c5bd 100644
--- a/src/declarative/graphicsitems/qdeclarativeitem_p.h
+++ b/src/declarative/graphicsitems/qdeclarativeitem_p.h
@@ -114,7 +114,7 @@ private:
     qreal m_height;
 };
 
-class Q_DECLARATIVE_EXPORT QDeclarativeItemPrivate : public QGraphicsItemPrivate
+class Q_QUICK1_EXPORT QDeclarativeItemPrivate : public QGraphicsItemPrivate
 {
     Q_DECLARE_PUBLIC(QDeclarativeItem)
 
diff --git a/src/declarative/graphicsitems/qdeclarativepositioners_p.h b/src/declarative/graphicsitems/qdeclarativepositioners_p.h
index ec685fc..8a3c917 100644
--- a/src/declarative/graphicsitems/qdeclarativepositioners_p.h
+++ b/src/declarative/graphicsitems/qdeclarativepositioners_p.h
@@ -57,7 +57,7 @@ QT_BEGIN_NAMESPACE
 QT_MODULE(Declarative)
 class QDeclarativeBasePositionerPrivate;
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeBasePositioner : public QDeclarativeImplicitSizeItem
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeBasePositioner : public QDeclarativeImplicitSizeItem
 {
     Q_OBJECT
 
diff --git a/src/declarative/graphicsitems/qdeclarativerectangle_p.h b/src/declarative/graphicsitems/qdeclarativerectangle_p.h
index f9863fb..441cf63 100644
--- a/src/declarative/graphicsitems/qdeclarativerectangle_p.h
+++ b/src/declarative/graphicsitems/qdeclarativerectangle_p.h
@@ -46,14 +46,14 @@
 
 #include <QtGui/qbrush.h>
 
-#include <private/qdeclarativeglobal_p.h>
+#include <private/qtquick1global_p.h>
 
 QT_BEGIN_HEADER
 
 QT_BEGIN_NAMESPACE
 
 QT_MODULE(Declarative)
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativePen : public QObject
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativePen : public QObject
 {
     Q_OBJECT
 
@@ -133,7 +133,7 @@ private:
 };
 
 class QDeclarativeRectanglePrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeRectangle : public QDeclarativeItem
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeRectangle : public QDeclarativeItem
 {
     Q_OBJECT
 
diff --git a/src/declarative/graphicsitems/qdeclarativescalegrid_p_p.h b/src/declarative/graphicsitems/qdeclarativescalegrid_p_p.h
index cf71617..aee34da 100644
--- a/src/declarative/graphicsitems/qdeclarativescalegrid_p_p.h
+++ b/src/declarative/graphicsitems/qdeclarativescalegrid_p_p.h
@@ -57,7 +57,7 @@ QT_BEGIN_NAMESPACE
 
 QT_MODULE(Declarative)
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeScaleGrid : public QObject
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeScaleGrid : public QObject
 {
     Q_OBJECT
     Q_ENUMS(TileRule)
@@ -95,7 +95,7 @@ private:
     int _bottom;
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeGridScaledImage
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeGridScaledImage
 {
 public:
     QDeclarativeGridScaledImage();
diff --git a/src/declarative/graphicsitems/qdeclarativetext_p.h b/src/declarative/graphicsitems/qdeclarativetext_p.h
index df38beb..8b63e44 100644
--- a/src/declarative/graphicsitems/qdeclarativetext_p.h
+++ b/src/declarative/graphicsitems/qdeclarativetext_p.h
@@ -45,7 +45,7 @@
 #include <QtGui/qtextoption.h>
 #include "qdeclarativeimplicitsizeitem_p.h"
 
-#include <private/qdeclarativeglobal_p.h>
+#include <private/qtquick1global_p.h>
 
 QT_BEGIN_HEADER
 
@@ -53,7 +53,7 @@ QT_BEGIN_NAMESPACE
 
 QT_MODULE(Declarative)
 class QDeclarativeTextPrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeText : public QDeclarativeImplicitSizeItem
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeText : public QDeclarativeImplicitSizeItem
 {
     Q_OBJECT
     Q_ENUMS(HAlignment)
diff --git a/src/declarative/qml/qdeclarative.h b/src/declarative/qml/qdeclarative.h
index c6be75f..643c33a 100644
--- a/src/declarative/qml/qdeclarative.h
+++ b/src/declarative/qml/qdeclarative.h
@@ -392,11 +392,11 @@ int qmlRegisterCustomType(const char *uri, int versionMajor, int versionMinor,
 
 class QDeclarativeContext;
 class QDeclarativeEngine;
-Q_DECLARATIVE_EXPORT void qmlExecuteDeferred(QObject *);
-Q_DECLARATIVE_EXPORT QDeclarativeContext *qmlContext(const QObject *);
-Q_DECLARATIVE_EXPORT QDeclarativeEngine *qmlEngine(const QObject *);
-Q_DECLARATIVE_EXPORT QObject *qmlAttachedPropertiesObjectById(int, const QObject *, bool create = true);
-Q_DECLARATIVE_EXPORT QObject *qmlAttachedPropertiesObject(int *, const QObject *, const QMetaObject *, bool create);
+Q_QUICK1_EXPORT void qmlExecuteDeferred(QObject *);
+Q_QUICK1_EXPORT QDeclarativeContext *qmlContext(const QObject *);
+Q_QUICK1_EXPORT QDeclarativeEngine *qmlEngine(const QObject *);
+Q_QUICK1_EXPORT QObject *qmlAttachedPropertiesObjectById(int, const QObject *, bool create = true);
+Q_QUICK1_EXPORT QObject *qmlAttachedPropertiesObject(int *, const QObject *, const QMetaObject *, bool create);
 
 template<typename T>
 QObject *qmlAttachedPropertiesObject(const QObject *obj, bool create = true)
diff --git a/src/declarative/qml/qdeclarativebinding_p.h b/src/declarative/qml/qdeclarativebinding_p.h
index b7c1757..cdd0719 100644
--- a/src/declarative/qml/qdeclarativebinding_p.h
+++ b/src/declarative/qml/qdeclarativebinding_p.h
@@ -64,7 +64,7 @@
 
 QT_BEGIN_NAMESPACE
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeAbstractBinding
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeAbstractBinding
 {
 public:
     typedef QWeakPointer<QDeclarativeAbstractBinding> Pointer;
@@ -143,7 +143,7 @@ private:
 
 class QDeclarativeContext;
 class QDeclarativeBindingPrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeBinding : public QDeclarativeExpression, public QDeclarativeAbstractBinding
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeBinding : public QDeclarativeExpression, public QDeclarativeAbstractBinding
 {
 Q_OBJECT
 public:
diff --git a/src/declarative/qml/qdeclarativecomponent.h b/src/declarative/qml/qdeclarativecomponent.h
index 681bc6b..454ae71 100644
--- a/src/declarative/qml/qdeclarativecomponent.h
+++ b/src/declarative/qml/qdeclarativecomponent.h
@@ -60,7 +60,7 @@ class QByteArray;
 class QDeclarativeComponentPrivate;
 class QDeclarativeEngine;
 class QDeclarativeComponentAttached;
-class Q_DECLARATIVE_EXPORT QDeclarativeComponent : public QObject
+class Q_QUICK1_EXPORT QDeclarativeComponent : public QObject
 {
     Q_OBJECT
     Q_DECLARE_PRIVATE(QDeclarativeComponent)
diff --git a/src/declarative/qml/qdeclarativecontext.h b/src/declarative/qml/qdeclarativecontext.h
index e71e3c0..233906e 100644
--- a/src/declarative/qml/qdeclarativecontext.h
+++ b/src/declarative/qml/qdeclarativecontext.h
@@ -42,6 +42,7 @@
 #ifndef QDECLARATIVECONTEXT_H
 #define QDECLARATIVECONTEXT_H
 
+#include <QtQuick1/qtquick1global.h>
 #include <QtCore/qurl.h>
 #include <QtCore/qobject.h>
 #include <QtScript/qscriptvalue.h>
@@ -61,7 +62,7 @@ class QDeclarativeContextPrivate;
 class QDeclarativeCompositeTypeData;
 class QDeclarativeContextData;
 
-class Q_DECLARATIVE_EXPORT QDeclarativeContext : public QObject
+class Q_QUICK1_EXPORT QDeclarativeContext : public QObject
 {
     Q_OBJECT
     Q_DECLARE_PRIVATE(QDeclarativeContext)
diff --git a/src/declarative/qml/qdeclarativecustomparser_p.h b/src/declarative/qml/qdeclarativecustomparser_p.h
index c80bc7e..39a1d48 100644
--- a/src/declarative/qml/qdeclarativecustomparser_p.h
+++ b/src/declarative/qml/qdeclarativecustomparser_p.h
@@ -70,7 +70,7 @@ QT_MODULE(Declarative)
 class QDeclarativeCompiler;
 
 class QDeclarativeCustomParserPropertyPrivate;
-class Q_DECLARATIVE_EXPORT QDeclarativeCustomParserProperty
+class Q_QUICK1_EXPORT QDeclarativeCustomParserProperty
 {
 public:
     QDeclarativeCustomParserProperty();
@@ -93,7 +93,7 @@ private:
 };
 
 class QDeclarativeCustomParserNodePrivate;
-class Q_DECLARATIVE_EXPORT QDeclarativeCustomParserNode
+class Q_QUICK1_EXPORT QDeclarativeCustomParserNode
 {
 public:
     QDeclarativeCustomParserNode();
@@ -111,7 +111,7 @@ private:
     QDeclarativeCustomParserNodePrivate *d;
 };
 
-class Q_DECLARATIVE_EXPORT QDeclarativeCustomParser
+class Q_QUICK1_EXPORT QDeclarativeCustomParser
 {
 public:
     enum Flag {
diff --git a/src/declarative/qml/qdeclarativedom_p.h b/src/declarative/qml/qdeclarativedom_p.h
index 66db37b..e465a87 100644
--- a/src/declarative/qml/qdeclarativedom_p.h
+++ b/src/declarative/qml/qdeclarativedom_p.h
@@ -58,7 +58,7 @@
 #include <QtCore/qlist.h>
 #include <QtCore/qshareddata.h>
 
-#include <private/qdeclarativeglobal_p.h>
+#include <private/qtquick1global_p.h>
 
 QT_BEGIN_HEADER
 
@@ -78,7 +78,7 @@ class QIODevice;
 
 class QDeclarativeDomDocumentPrivate;
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDomDocument
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDomDocument
 {
 public:
     QDeclarativeDomDocument();
@@ -98,7 +98,7 @@ private:
 };
 
 class QDeclarativeDomPropertyPrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDomProperty
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDomProperty
 {
 public:
     QDeclarativeDomProperty();
@@ -125,7 +125,7 @@ private:
 };
 
 class QDeclarativeDomDynamicPropertyPrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDomDynamicProperty
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDomDynamicProperty
 {
 public:
     QDeclarativeDomDynamicProperty();
@@ -153,7 +153,7 @@ private:
 };
 
 class QDeclarativeDomObjectPrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDomObject
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDomObject
 {
 public:
     QDeclarativeDomObject();
@@ -198,7 +198,7 @@ private:
 
 class QDeclarativeDomValuePrivate;
 class QDeclarativeDomBasicValuePrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDomValueLiteral
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDomValueLiteral
 {
 public:
     QDeclarativeDomValueLiteral();
@@ -213,7 +213,7 @@ private:
     QSharedDataPointer<QDeclarativeDomBasicValuePrivate> d;
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDomValueBinding
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDomValueBinding
 {
 public:
     QDeclarativeDomValueBinding();
@@ -228,7 +228,7 @@ private:
     QSharedDataPointer<QDeclarativeDomBasicValuePrivate> d;
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDomValueValueSource
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDomValueValueSource
 {
 public:
     QDeclarativeDomValueValueSource();
@@ -243,7 +243,7 @@ private:
     QSharedDataPointer<QDeclarativeDomBasicValuePrivate> d;
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDomValueValueInterceptor
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDomValueValueInterceptor
 {
 public:
     QDeclarativeDomValueValueInterceptor();
@@ -259,7 +259,7 @@ private:
 };
 
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDomComponent : public QDeclarativeDomObject
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDomComponent : public QDeclarativeDomObject
 {
 public:
     QDeclarativeDomComponent();
@@ -270,7 +270,7 @@ public:
     QDeclarativeDomObject componentRoot() const;
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDomValue
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDomValue
 {
 public:
     enum Type { 
@@ -314,7 +314,7 @@ private:
     QSharedDataPointer<QDeclarativeDomValuePrivate> d;
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDomList
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDomList
 {
 public:
     QDeclarativeDomList();
@@ -335,7 +335,7 @@ private:
 };
 
 class QDeclarativeDomImportPrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeDomImport
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeDomImport
 {
 public:
     enum Type { Library, File };
diff --git a/src/declarative/qml/qdeclarativeengine.h b/src/declarative/qml/qdeclarativeengine.h
index b9a00e8..19a1f82 100644
--- a/src/declarative/qml/qdeclarativeengine.h
+++ b/src/declarative/qml/qdeclarativeengine.h
@@ -67,7 +67,7 @@ class QScriptContext;
 class QDeclarativeImageProvider;
 class QNetworkAccessManager;
 class QDeclarativeNetworkAccessManagerFactory;
-class Q_DECLARATIVE_EXPORT QDeclarativeEngine : public QObject
+class Q_QUICK1_EXPORT QDeclarativeEngine : public QObject
 {
     Q_PROPERTY(QString offlineStoragePath READ offlineStoragePath WRITE setOfflineStoragePath)
     Q_OBJECT
diff --git a/src/declarative/qml/qdeclarativeerror.h b/src/declarative/qml/qdeclarativeerror.h
index b5581ec..0761843 100644
--- a/src/declarative/qml/qdeclarativeerror.h
+++ b/src/declarative/qml/qdeclarativeerror.h
@@ -42,6 +42,7 @@
 #ifndef QDECLARATIVEERROR_H
 #define QDECLARATIVEERROR_H
 
+#include <QtQuick1/qtquick1global.h>
 #include <QtCore/qurl.h>
 #include <QtCore/qstring.h>
 
@@ -53,7 +54,7 @@ QT_MODULE(Declarative)
 
 class QDebug;
 class QDeclarativeErrorPrivate;
-class Q_DECLARATIVE_EXPORT QDeclarativeError
+class Q_QUICK1_EXPORT QDeclarativeError
 {
 public:
     QDeclarativeError();
@@ -77,7 +78,7 @@ private:
     QDeclarativeErrorPrivate *d;
 };
 
-QDebug Q_DECLARATIVE_EXPORT operator<<(QDebug debug, const QDeclarativeError &error);
+QDebug Q_QUICK1_EXPORT operator<<(QDebug debug, const QDeclarativeError &error);
 
 QT_END_NAMESPACE
 
diff --git a/src/declarative/qml/qdeclarativeexpression.h b/src/declarative/qml/qdeclarativeexpression.h
index 2a6825d..a99b0eb 100644
--- a/src/declarative/qml/qdeclarativeexpression.h
+++ b/src/declarative/qml/qdeclarativeexpression.h
@@ -60,7 +60,7 @@ class QDeclarativeContext;
 class QDeclarativeExpressionPrivate;
 class QDeclarativeContextData;
 class QScriptValue;
-class Q_DECLARATIVE_EXPORT QDeclarativeExpression : public QObject
+class Q_QUICK1_EXPORT QDeclarativeExpression : public QObject
 {
     Q_OBJECT
 public:
diff --git a/src/declarative/qml/qdeclarativeextensioninterface.h b/src/declarative/qml/qdeclarativeextensioninterface.h
index d302d28..4bad3f0 100644
--- a/src/declarative/qml/qdeclarativeextensioninterface.h
+++ b/src/declarative/qml/qdeclarativeextensioninterface.h
@@ -42,6 +42,7 @@
 #ifndef QDECLARATIVEEXTENSIONINTERFACE_H
 #define QDECLARATIVEEXTENSIONINTERFACE_H
 
+#include <QtQuick1/qtquick1global.h>
 #include <QtCore/qobject.h>
 
 QT_BEGIN_HEADER
@@ -52,7 +53,7 @@ QT_MODULE(Declarative)
 
 class QDeclarativeEngine;
 
-struct Q_DECLARATIVE_EXPORT QDeclarativeExtensionInterface
+struct Q_QUICK1_EXPORT QDeclarativeExtensionInterface
 {
     virtual ~QDeclarativeExtensionInterface() {}
     virtual void registerTypes(const char *uri) = 0;
diff --git a/src/declarative/qml/qdeclarativeextensionplugin.h b/src/declarative/qml/qdeclarativeextensionplugin.h
index 9c93656..76243a3 100644
--- a/src/declarative/qml/qdeclarativeextensionplugin.h
+++ b/src/declarative/qml/qdeclarativeextensionplugin.h
@@ -54,7 +54,7 @@ QT_MODULE(Declarative)
 
 class QDeclarativeEngine;
 
-class Q_DECLARATIVE_EXPORT QDeclarativeExtensionPlugin : public QObject, public QDeclarativeExtensionInterface
+class Q_QUICK1_EXPORT QDeclarativeExtensionPlugin : public QObject, public QDeclarativeExtensionInterface
 {
     Q_OBJECT
     Q_INTERFACES(QDeclarativeExtensionInterface)
diff --git a/src/declarative/qml/qdeclarativeglobal_p.h b/src/declarative/qml/qdeclarativeglobal_p.h
index aac7c74..2327134 100644
--- a/src/declarative/qml/qdeclarativeglobal_p.h
+++ b/src/declarative/qml/qdeclarativeglobal_p.h
@@ -64,12 +64,6 @@ QT_MODULE(Declarative)
         return status == Yes; \
     }
 
-#ifdef Q_OS_SYMBIAN
-#define Q_DECLARATIVE_PRIVATE_EXPORT Q_AUTOTEST_EXPORT
-#else
-#define Q_DECLARATIVE_PRIVATE_EXPORT Q_DECLARATIVE_EXPORT
-#endif
-
 struct QDeclarativeGraphics_DerivedObject : public QObject
 {
     void setParent_noEvent(QObject *parent) {
diff --git a/src/declarative/qml/qdeclarativeimageprovider.h b/src/declarative/qml/qdeclarativeimageprovider.h
index 217f97b..981b066 100644
--- a/src/declarative/qml/qdeclarativeimageprovider.h
+++ b/src/declarative/qml/qdeclarativeimageprovider.h
@@ -42,6 +42,7 @@
 #ifndef QDECLARATIVEIMAGEPROVIDER_H
 #define QDECLARATIVEIMAGEPROVIDER_H
 
+#include <QtQuick1/qtquick1global.h>
 #include <QtGui/qimage.h>
 #include <QtGui/qpixmap.h>
 
@@ -53,7 +54,7 @@ QT_MODULE(Declarative)
 
 class QDeclarativeImageProviderPrivate;
 
-class Q_DECLARATIVE_EXPORT QDeclarativeImageProvider
+class Q_QUICK1_EXPORT QDeclarativeImageProvider
 {
 public:
     enum ImageType {
diff --git a/src/declarative/qml/qdeclarativeinfo.h b/src/declarative/qml/qdeclarativeinfo.h
index 5a61455..b9db88c 100644
--- a/src/declarative/qml/qdeclarativeinfo.h
+++ b/src/declarative/qml/qdeclarativeinfo.h
@@ -53,7 +53,7 @@ QT_BEGIN_NAMESPACE
 QT_MODULE(Declarative)
 
 class QDeclarativeInfoPrivate;
-class Q_DECLARATIVE_EXPORT QDeclarativeInfo : public QDebug
+class Q_QUICK1_EXPORT QDeclarativeInfo : public QDebug
 {
 public:
     QDeclarativeInfo(const QDeclarativeInfo &);
@@ -85,17 +85,17 @@ public:
 #endif
 
 private:
-    friend Q_DECLARATIVE_EXPORT QDeclarativeInfo qmlInfo(const QObject *me);
-    friend Q_DECLARATIVE_EXPORT QDeclarativeInfo qmlInfo(const QObject *me, const QDeclarativeError &error);
-    friend Q_DECLARATIVE_EXPORT QDeclarativeInfo qmlInfo(const QObject *me, const QList<QDeclarativeError> &errors);
+    friend Q_QUICK1_EXPORT QDeclarativeInfo qmlInfo(const QObject *me);
+    friend Q_QUICK1_EXPORT QDeclarativeInfo qmlInfo(const QObject *me, const QDeclarativeError &error);
+    friend Q_QUICK1_EXPORT QDeclarativeInfo qmlInfo(const QObject *me, const QList<QDeclarativeError> &errors);
 
     QDeclarativeInfo(QDeclarativeInfoPrivate *);
     QDeclarativeInfoPrivate *d;
 };
 
-Q_DECLARATIVE_EXPORT QDeclarativeInfo qmlInfo(const QObject *me);
-Q_DECLARATIVE_EXPORT QDeclarativeInfo qmlInfo(const QObject *me, const QDeclarativeError &error);
-Q_DECLARATIVE_EXPORT QDeclarativeInfo qmlInfo(const QObject *me, const QList<QDeclarativeError> &errors);
+Q_QUICK1_EXPORT QDeclarativeInfo qmlInfo(const QObject *me);
+Q_QUICK1_EXPORT QDeclarativeInfo qmlInfo(const QObject *me, const QDeclarativeError &error);
+Q_QUICK1_EXPORT QDeclarativeInfo qmlInfo(const QObject *me, const QList<QDeclarativeError> &errors);
 
 QT_END_NAMESPACE
 
diff --git a/src/declarative/qml/qdeclarativelist.h b/src/declarative/qml/qdeclarativelist.h
index 7d1cf42..7ea85e2 100644
--- a/src/declarative/qml/qdeclarativelist.h
+++ b/src/declarative/qml/qdeclarativelist.h
@@ -42,7 +42,7 @@
 #ifndef QDECLARATIVELIST_H
 #define QDECLARATIVELIST_H
 
-#include <QtCore/qglobal.h>
+#include <QtQuick1/qtquick1global.h>
 #include <QtCore/qlist.h>
 #include <QtCore/qvariant.h>
 
@@ -114,7 +114,7 @@ private:
 
 class QDeclarativeEngine;
 class QDeclarativeListReferencePrivate;
-class Q_DECLARATIVE_EXPORT QDeclarativeListReference
+class Q_QUICK1_EXPORT QDeclarativeListReference
 {
 public:
     QDeclarativeListReference();
diff --git a/src/declarative/qml/qdeclarativemetatype_p.h b/src/declarative/qml/qdeclarativemetatype_p.h
index 17dcb7d..9b30323 100644
--- a/src/declarative/qml/qdeclarativemetatype_p.h
+++ b/src/declarative/qml/qdeclarativemetatype_p.h
@@ -58,7 +58,7 @@
 #include <QtCore/qglobal.h>
 #include <QtCore/qvariant.h>
 #include <QtCore/qbitarray.h>
-#include <private/qdeclarativeglobal_p.h>
+#include <private/qtquick1global_p.h>
 
 QT_BEGIN_NAMESPACE
 
@@ -66,7 +66,7 @@ class QDeclarativeType;
 class QDeclarativeCustomParser;
 class QDeclarativeTypePrivate;
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeMetaType
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeMetaType
 {
 public:
     static bool canCopy(int type);
@@ -108,7 +108,7 @@ public:
     static QList<QDeclarativePrivate::AutoParentFunction> parentFunctions();
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeType
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeType
 {
 public:
     QByteArray typeName() const;
diff --git a/src/declarative/qml/qdeclarativenetworkaccessmanagerfactory.h b/src/declarative/qml/qdeclarativenetworkaccessmanagerfactory.h
index af2dbd2..d5bc870 100644
--- a/src/declarative/qml/qdeclarativenetworkaccessmanagerfactory.h
+++ b/src/declarative/qml/qdeclarativenetworkaccessmanagerfactory.h
@@ -42,6 +42,7 @@
 #ifndef QDECLARATIVENETWORKACCESSMANAGERFACTORY_H
 #define QDECLARATIVENETWORKACCESSMANAGERFACTORY_H
 
+#include <QtQuick1/qtquick1global.h>
 #include <QtCore/qobject.h>
 
 QT_BEGIN_HEADER
@@ -51,7 +52,7 @@ QT_BEGIN_NAMESPACE
 QT_MODULE(Declarative)
 
 class QNetworkAccessManager;
-class Q_DECLARATIVE_EXPORT QDeclarativeNetworkAccessManagerFactory
+class Q_QUICK1_EXPORT QDeclarativeNetworkAccessManagerFactory
 {
 public:
     virtual ~QDeclarativeNetworkAccessManagerFactory();
diff --git a/src/declarative/qml/qdeclarativeparser_p.h b/src/declarative/qml/qdeclarativeparser_p.h
index f4ebf72..3723f90 100644
--- a/src/declarative/qml/qdeclarativeparser_p.h
+++ b/src/declarative/qml/qdeclarativeparser_p.h
@@ -237,7 +237,7 @@ namespace QDeclarativeParser
         QList<DynamicSlot> dynamicSlots;
     };
 
-    class Q_DECLARATIVE_EXPORT Variant 
+    class Q_QUICK1_EXPORT Variant
     {
     public:
         enum Type {
diff --git a/src/declarative/qml/qdeclarativeparserstatus.h b/src/declarative/qml/qdeclarativeparserstatus.h
index fb85431..c7212b9 100644
--- a/src/declarative/qml/qdeclarativeparserstatus.h
+++ b/src/declarative/qml/qdeclarativeparserstatus.h
@@ -42,6 +42,7 @@
 #ifndef QDECLARATIVEPARSERSTATUS_H
 #define QDECLARATIVEPARSERSTATUS_H
 
+#include <QtQuick1/qtquick1global.h>
 #include <QtCore/qobject.h>
 
 QT_BEGIN_HEADER
@@ -50,7 +51,7 @@ QT_BEGIN_NAMESPACE
 
 QT_MODULE(Declarative)
 
-class Q_DECLARATIVE_EXPORT QDeclarativeParserStatus
+class Q_QUICK1_EXPORT QDeclarativeParserStatus
 {
 public:
     QDeclarativeParserStatus();
diff --git a/src/declarative/qml/qdeclarativeprivate.h b/src/declarative/qml/qdeclarativeprivate.h
index 4b2f796..a443a65 100644
--- a/src/declarative/qml/qdeclarativeprivate.h
+++ b/src/declarative/qml/qdeclarativeprivate.h
@@ -53,7 +53,7 @@
 // We mean it.
 //
 
-#include <QtCore/qglobal.h>
+#include <QtQuick1/qtquick1global.h>
 #include <QtCore/qvariant.h>
 
 QT_BEGIN_HEADER
@@ -77,7 +77,7 @@ public:
 class QDeclarativeCustomParser;
 namespace QDeclarativePrivate
 {
-    void Q_DECLARATIVE_EXPORT qdeclarativeelement_destructor(QObject *);
+    void Q_QUICK1_EXPORT qdeclarativeelement_destructor(QObject *);
     template<typename T>
     class QDeclarativeElement : public T
     {
@@ -239,7 +239,7 @@ namespace QDeclarativePrivate
         AutoParentRegistration = 2
     };
 
-    int Q_DECLARATIVE_EXPORT qmlregister(RegistrationType, void *);
+    int Q_QUICK1_EXPORT qmlregister(RegistrationType, void *);
 }
 
 QT_END_NAMESPACE
diff --git a/src/declarative/qml/qdeclarativeproperty.h b/src/declarative/qml/qdeclarativeproperty.h
index 58e0521..cce1c23 100644
--- a/src/declarative/qml/qdeclarativeproperty.h
+++ b/src/declarative/qml/qdeclarativeproperty.h
@@ -42,6 +42,7 @@
 #ifndef QDECLARATIVEPROPERTY_H
 #define QDECLARATIVEPROPERTY_H
 
+#include <QtQuick1/qtquick1global.h>
 #include <QtCore/qmetaobject.h>
 
 QT_BEGIN_HEADER
@@ -56,7 +57,7 @@ class QDeclarativeContext;
 class QDeclarativeEngine;
 
 class QDeclarativePropertyPrivate;
-class Q_DECLARATIVE_EXPORT QDeclarativeProperty
+class Q_QUICK1_EXPORT QDeclarativeProperty
 {
 public:
     enum PropertyTypeCategory {
diff --git a/src/declarative/qml/qdeclarativeproperty_p.h b/src/declarative/qml/qdeclarativeproperty_p.h
index 6e61e6c..e337643 100644
--- a/src/declarative/qml/qdeclarativeproperty_p.h
+++ b/src/declarative/qml/qdeclarativeproperty_p.h
@@ -55,8 +55,8 @@
 
 #include "qdeclarativeproperty.h"
 
+#include <private/qtquick1global_p.h>
 #include <private/qobject_p.h>
-#include <private/qdeclarativeglobal_p.h>
 #include <private/qdeclarativepropertycache_p.h>
 #include <private/qdeclarativeguard_p.h>
 
@@ -65,7 +65,7 @@ QT_BEGIN_NAMESPACE
 class QDeclarativeContext;
 class QDeclarativeEnginePrivate;
 class QDeclarativeExpression;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativePropertyPrivate : public QDeclarativeRefCount
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativePropertyPrivate : public QDeclarativeRefCount
 {
 public:
     enum WriteFlag { BypassInterceptor = 0x01, DontRemoveBinding = 0x02, RemoveBindingOnAliasWrite = 0x04 };
diff --git a/src/declarative/qml/qdeclarativepropertyvalueinterceptor.h b/src/declarative/qml/qdeclarativepropertyvalueinterceptor.h
index a6644b0..d5a4621 100644
--- a/src/declarative/qml/qdeclarativepropertyvalueinterceptor.h
+++ b/src/declarative/qml/qdeclarativepropertyvalueinterceptor.h
@@ -42,6 +42,7 @@
 #ifndef QDECLARATIVEPROPERTYVALUEINTERCEPTOR_H
 #define QDECLARATIVEPROPERTYVALUEINTERCEPTOR_H
 
+#include <QtQuick1/qtquick1global.h>
 #include <QtCore/qobject.h>
 
 QT_BEGIN_HEADER
@@ -51,7 +52,7 @@ QT_BEGIN_NAMESPACE
 QT_MODULE(Declarative)
 
 class QDeclarativeProperty;
-class Q_DECLARATIVE_EXPORT QDeclarativePropertyValueInterceptor
+class Q_QUICK1_EXPORT QDeclarativePropertyValueInterceptor
 {
 public:
     QDeclarativePropertyValueInterceptor();
diff --git a/src/declarative/qml/qdeclarativepropertyvaluesource.h b/src/declarative/qml/qdeclarativepropertyvaluesource.h
index 94d666d..53e26dc 100644
--- a/src/declarative/qml/qdeclarativepropertyvaluesource.h
+++ b/src/declarative/qml/qdeclarativepropertyvaluesource.h
@@ -42,6 +42,7 @@
 #ifndef QDECLARATIVEPROPERTYVALUESOURCE_H
 #define QDECLARATIVEPROPERTYVALUESOURCE_H
 
+#include <QtQuick1/qtquick1global.h>
 #include <QtCore/qobject.h>
 
 QT_BEGIN_HEADER
@@ -51,7 +52,7 @@ QT_BEGIN_NAMESPACE
 QT_MODULE(Declarative)
 
 class QDeclarativeProperty;
-class Q_DECLARATIVE_EXPORT QDeclarativePropertyValueSource
+class Q_QUICK1_EXPORT QDeclarativePropertyValueSource
 {
 public:
     QDeclarativePropertyValueSource();
diff --git a/src/declarative/qml/qdeclarativerefcount_p.h b/src/declarative/qml/qdeclarativerefcount_p.h
index 7c0f08a..d6130fe 100644
--- a/src/declarative/qml/qdeclarativerefcount_p.h
+++ b/src/declarative/qml/qdeclarativerefcount_p.h
@@ -53,7 +53,7 @@
 // We mean it.
 //
 
-#include <QtCore/qglobal.h>
+#include <QtQuick1/qtquick1global.h>
 
 QT_BEGIN_HEADER
 
@@ -61,7 +61,7 @@ QT_BEGIN_NAMESPACE
 
 QT_MODULE(Declarative)
 
-class Q_DECLARATIVE_EXPORT QDeclarativeRefCount
+class Q_QUICK1_EXPORT QDeclarativeRefCount
 {
 public:
     QDeclarativeRefCount();
diff --git a/src/declarative/qml/qdeclarativescriptstring.h b/src/declarative/qml/qdeclarativescriptstring.h
index 7c8cf28..4823d36 100644
--- a/src/declarative/qml/qdeclarativescriptstring.h
+++ b/src/declarative/qml/qdeclarativescriptstring.h
@@ -42,6 +42,7 @@
 #ifndef QDECLARATIVESCRIPTSTRING_H
 #define QDECLARATIVESCRIPTSTRING_H
 
+#include <QtQuick1/qtquick1global.h>
 #include <QtCore/qstring.h>
 #include <QtCore/qshareddata.h>
 #include <QtCore/qmetatype.h>
@@ -55,7 +56,7 @@ QT_MODULE(Declarative)
 class QObject;
 class QDeclarativeContext;
 class QDeclarativeScriptStringPrivate;
-class Q_DECLARATIVE_EXPORT QDeclarativeScriptString 
+class Q_QUICK1_EXPORT QDeclarativeScriptString
 {
 public:
     QDeclarativeScriptString();
diff --git a/src/declarative/qml/qdeclarativestringconverters_p.h b/src/declarative/qml/qdeclarativestringconverters_p.h
index 5fd0615..d588689 100644
--- a/src/declarative/qml/qdeclarativestringconverters_p.h
+++ b/src/declarative/qml/qdeclarativestringconverters_p.h
@@ -53,11 +53,9 @@
 // We mean it.
 //
 
-#include <QtCore/qglobal.h>
+#include <private/qtquick1global_p.h>
 #include <QtCore/qvariant.h>
 
-#include <private/qdeclarativeglobal_p.h>
-
 QT_BEGIN_NAMESPACE
 
 class QColor;
@@ -71,19 +69,19 @@ class QVector3D;
 // XXX - Bauhaus currently uses these methods which is why they're exported
 namespace QDeclarativeStringConverters
 {
-    QVariant Q_DECLARATIVE_PRIVATE_EXPORT variantFromString(const QString &);
-    QVariant Q_DECLARATIVE_PRIVATE_EXPORT variantFromString(const QString &, int preferredType, bool *ok = 0);
+    QVariant Q_QUICK1_PRIVATE_EXPORT variantFromString(const QString &);
+    QVariant Q_QUICK1_PRIVATE_EXPORT variantFromString(const QString &, int preferredType, bool *ok = 0);
 
-    QColor Q_DECLARATIVE_PRIVATE_EXPORT colorFromString(const QString &, bool *ok = 0);
+    QColor Q_QUICK1_PRIVATE_EXPORT colorFromString(const QString &, bool *ok = 0);
 #ifndef QT_NO_DATESTRING
-    QDate Q_DECLARATIVE_PRIVATE_EXPORT dateFromString(const QString &, bool *ok = 0); 
-    QTime Q_DECLARATIVE_PRIVATE_EXPORT timeFromString(const QString &, bool *ok = 0);
-    QDateTime Q_DECLARATIVE_PRIVATE_EXPORT dateTimeFromString(const QString &, bool *ok = 0);
+    QDate Q_QUICK1_PRIVATE_EXPORT dateFromString(const QString &, bool *ok = 0);
+    QTime Q_QUICK1_PRIVATE_EXPORT timeFromString(const QString &, bool *ok = 0);
+    QDateTime Q_QUICK1_PRIVATE_EXPORT dateTimeFromString(const QString &, bool *ok = 0);
 #endif
-    QPointF Q_DECLARATIVE_PRIVATE_EXPORT pointFFromString(const QString &, bool *ok = 0);
-    QSizeF Q_DECLARATIVE_PRIVATE_EXPORT sizeFFromString(const QString &, bool *ok = 0);
-    QRectF Q_DECLARATIVE_PRIVATE_EXPORT rectFFromString(const QString &, bool *ok = 0);
-    QVector3D Q_DECLARATIVE_PRIVATE_EXPORT vector3DFromString(const QString &, bool *ok = 0);
+    QPointF Q_QUICK1_PRIVATE_EXPORT pointFFromString(const QString &, bool *ok = 0);
+    QSizeF Q_QUICK1_PRIVATE_EXPORT sizeFFromString(const QString &, bool *ok = 0);
+    QRectF Q_QUICK1_PRIVATE_EXPORT rectFFromString(const QString &, bool *ok = 0);
+    QVector3D Q_QUICK1_PRIVATE_EXPORT vector3DFromString(const QString &, bool *ok = 0);
 }
 
 QT_END_NAMESPACE
diff --git a/src/declarative/qml/qdeclarativevaluetype_p.h b/src/declarative/qml/qdeclarativevaluetype_p.h
index 6710a1f..66afdf9 100644
--- a/src/declarative/qml/qdeclarativevaluetype_p.h
+++ b/src/declarative/qml/qdeclarativevaluetype_p.h
@@ -70,7 +70,7 @@
 
 QT_BEGIN_NAMESPACE
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeValueType : public QObject
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeValueType : public QObject
 {
     Q_OBJECT
 public:
@@ -81,7 +81,7 @@ public:
     virtual void setValue(QVariant) = 0;
 };
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeValueTypeFactory
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeValueTypeFactory
 {
 public:
     QDeclarativeValueTypeFactory();
diff --git a/src/declarative/qtquick1global.h b/src/declarative/qtquick1global.h
new file mode 100644
index 0000000..9e8f2a5
--- /dev/null
+++ b/src/declarative/qtquick1global.h
@@ -0,0 +1,73 @@
+/****************************************************************************
+**
+** Copyright (C) 2012 Nokia Corporation and/or its subsidiary(-ies).
+** Contact: http://www.qt-project.org/
+**
+** This file is part of the QtQml module of the Qt Toolkit.
+**
+** $QT_BEGIN_LICENSE:LGPL$
+** GNU Lesser General Public License Usage
+** This file may be used under the terms of the GNU Lesser General Public
+** License version 2.1 as published by the Free Software Foundation and
+** appearing in the file LICENSE.LGPL included in the packaging of this
+** file. Please review the following information to ensure the GNU Lesser
+** General Public License version 2.1 requirements will be met:
+** http://www.gnu.org/licenses/old-licenses/lgpl-2.1.html.
+**
+** In addition, as a special exception, Nokia gives you certain additional
+** rights. These rights are described in the Nokia Qt LGPL Exception
+** version 1.1, included in the file LGPL_EXCEPTION.txt in this package.
+**
+** GNU General Public License Usage
+** Alternatively, this file may be used under the terms of the GNU General
+** Public License version 3.0 as published by the Free Software Foundation
+** and appearing in the file LICENSE.GPL included in the packaging of this
+** file. Please review the following information to ensure the GNU General
+** Public License version 3.0 requirements will be met:
+** http://www.gnu.org/copyleft/gpl.html.
+**
+** Other Usage
+** Alternatively, this file may be used in accordance with the terms and
+** conditions contained in a signed written agreement between you and Nokia.
+**
+**
+**
+**
+**
+**
+** $QT_END_LICENSE$
+**
+****************************************************************************/
+
+#ifndef QTQUICK1GLOBAL_H
+#define QTQUICK1GLOBAL_H
+
+#include <QtCore/qglobal.h>
+
+// This definition is in the process of being removed from qtbase - once it
+// has been expunged, this will no longer be necssary:
+#if defined(Q_QUICK1_EXPORT)
+#  undef Q_QUICK1_EXPORT
+#endif
+
+#if defined(Q_OS_WIN)
+#  if defined(QT_MAKEDLL) /* create a Qt DLL library */
+#    if defined(QT_BUILD_QUICK1_LIB)
+#      define Q_QUICK1_EXPORT Q_DECL_EXPORT
+#    else
+#      define Q_QUICK1_EXPORT Q_DECL_IMPORT
+#    endif
+#  elif defined(QT_DLL) /* use a Qt DLL library */
+#    define Q_QUICK1_EXPORT Q_DECL_IMPORT
+#  endif
+#endif
+
+#if !defined(Q_QUICK1_EXPORT)
+#  if defined(QT_SHARED)
+#    define Q_QUICK1_EXPORT Q_DECL_EXPORT
+#  else
+#    define Q_QUICK1_EXPORT
+#  endif
+#endif
+
+#endif // QTQUICK1GLOBAL_H
diff --git a/src/declarative/qtquick1global_p.h b/src/declarative/qtquick1global_p.h
new file mode 100644
index 0000000..9d8a12c
--- /dev/null
+++ b/src/declarative/qtquick1global_p.h
@@ -0,0 +1,60 @@
+/****************************************************************************
+**
+** Copyright (C) 2012 Nokia Corporation and/or its subsidiary(-ies).
+** Contact: http://www.qt-project.org/
+**
+** This file is part of the QtQml module of the Qt Toolkit.
+**
+** $QT_BEGIN_LICENSE:LGPL$
+** GNU Lesser General Public License Usage
+** This file may be used under the terms of the GNU Lesser General Public
+** License version 2.1 as published by the Free Software Foundation and
+** appearing in the file LICENSE.LGPL included in the packaging of this
+** file. Please review the following information to ensure the GNU Lesser
+** General Public License version 2.1 requirements will be met:
+** http://www.gnu.org/licenses/old-licenses/lgpl-2.1.html.
+**
+** In addition, as a special exception, Nokia gives you certain additional
+** rights. These rights are described in the Nokia Qt LGPL Exception
+** version 1.1, included in the file LGPL_EXCEPTION.txt in this package.
+**
+** GNU General Public License Usage
+** Alternatively, this file may be used under the terms of the GNU General
+** Public License version 3.0 as published by the Free Software Foundation
+** and appearing in the file LICENSE.GPL included in the packaging of this
+** file. Please review the following information to ensure the GNU General
+** Public License version 3.0 requirements will be met:
+** http://www.gnu.org/copyleft/gpl.html.
+**
+** Other Usage
+** Alternatively, this file may be used in accordance with the terms and
+** conditions contained in a signed written agreement between you and Nokia.
+**
+**
+**
+**
+**
+**
+** $QT_END_LICENSE$
+**
+****************************************************************************/
+
+#ifndef QTQUICK1GLOBAL_P_H
+#define QTQUICK1GLOBAL_P_H
+
+//
+//  W A R N I N G
+//  -------------
+//
+// This file is not part of the Qt API.  It exists purely as an
+// implementation detail.  This header file may change from version to
+// version without notice, or even be removed.
+//
+// We mean it.
+//
+
+#include "qtquick1global.h"
+
+#define Q_QUICK1_PRIVATE_EXPORT Q_QUICK1_EXPORT
+
+#endif // QTQUICK1GLOBAL_P_H
diff --git a/src/declarative/util/qdeclarativeanimation_p.h b/src/declarative/util/qdeclarativeanimation_p.h
index ae64988..26fc103 100644
--- a/src/declarative/util/qdeclarativeanimation_p.h
+++ b/src/declarative/util/qdeclarativeanimation_p.h
@@ -63,7 +63,7 @@ QT_MODULE(Declarative)
 
 class QDeclarativeAbstractAnimationPrivate;
 class QDeclarativeAnimationGroup;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeAbstractAnimation : public QObject, public QDeclarativePropertyValueSource, public QDeclarativeParserStatus
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeAbstractAnimation : public QObject, public QDeclarativePropertyValueSource, public QDeclarativeParserStatus
 {
     Q_OBJECT
     Q_DECLARE_PRIVATE(QDeclarativeAbstractAnimation)
@@ -165,7 +165,7 @@ protected:
 };
 
 class QDeclarativeScriptActionPrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeScriptAction : public QDeclarativeAbstractAnimation
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeScriptAction : public QDeclarativeAbstractAnimation
 {
     Q_OBJECT
     Q_DECLARE_PRIVATE(QDeclarativeScriptAction)
diff --git a/src/declarative/util/qdeclarativeapplication_p.h b/src/declarative/util/qdeclarativeapplication_p.h
index ea6cc3c..4f6efa5 100644
--- a/src/declarative/util/qdeclarativeapplication_p.h
+++ b/src/declarative/util/qdeclarativeapplication_p.h
@@ -44,7 +44,7 @@
 
 #include <QtCore/QObject>
 #include <qdeclarative.h>
-#include <private/qdeclarativeglobal_p.h>
+#include <private/qtquick1global_p.h>
 
 QT_BEGIN_HEADER
 
@@ -53,7 +53,7 @@ QT_BEGIN_NAMESPACE
 QT_MODULE(Declarative)
 
 class QDeclarativeApplicationPrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeApplication : public QObject
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeApplication : public QObject
 {
     Q_OBJECT
     Q_PROPERTY(bool active READ active NOTIFY activeChanged)
diff --git a/src/declarative/util/qdeclarativebehavior_p.h b/src/declarative/util/qdeclarativebehavior_p.h
index 1271aa7..03119a7 100644
--- a/src/declarative/util/qdeclarativebehavior_p.h
+++ b/src/declarative/util/qdeclarativebehavior_p.h
@@ -57,7 +57,7 @@ QT_MODULE(Declarative)
 
 class QDeclarativeAbstractAnimation;
 class QDeclarativeBehaviorPrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeBehavior : public QObject, public QDeclarativePropertyValueInterceptor
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeBehavior : public QObject, public QDeclarativePropertyValueInterceptor
 {
     Q_OBJECT
     Q_DECLARE_PRIVATE(QDeclarativeBehavior)
diff --git a/src/declarative/util/qdeclarativelistmodel_p.h b/src/declarative/util/qdeclarativelistmodel_p.h
index 5a0dd3d..5e579fc 100644
--- a/src/declarative/util/qdeclarativelistmodel_p.h
+++ b/src/declarative/util/qdeclarativelistmodel_p.h
@@ -64,7 +64,7 @@ class NestedListModel;
 class QDeclarativeListModelWorkerAgent;
 struct ModelNode;
 class FlatListScriptClass;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeListModel : public QListModelInterface
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeListModel : public QListModelInterface
 {
     Q_OBJECT
     Q_PROPERTY(int count READ count NOTIFY countChanged)
diff --git a/src/declarative/util/qdeclarativeopenmetaobject_p.h b/src/declarative/util/qdeclarativeopenmetaobject_p.h
index b765ed7..9ddd4e1 100644
--- a/src/declarative/util/qdeclarativeopenmetaobject_p.h
+++ b/src/declarative/util/qdeclarativeopenmetaobject_p.h
@@ -45,8 +45,8 @@
 #include <QtCore/QMetaObject>
 #include <QtCore/QObject>
 
+#include <private/qtquick1global_p.h>
 #include <private/qdeclarativerefcount_p.h>
-#include <private/qdeclarativeglobal_p.h>
 #include <private/qobject_p.h>
 
 QT_BEGIN_HEADER
@@ -58,7 +58,7 @@ QT_MODULE(Declarative)
 class QDeclarativeEngine;
 class QMetaPropertyBuilder;
 class QDeclarativeOpenMetaObjectTypePrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeOpenMetaObjectType : public QDeclarativeRefCount
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeOpenMetaObjectType : public QDeclarativeRefCount
 {
 public:
     QDeclarativeOpenMetaObjectType(const QMetaObject *base, QDeclarativeEngine *engine);
@@ -79,7 +79,7 @@ private:
 };
 
 class QDeclarativeOpenMetaObjectPrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeOpenMetaObject : public QAbstractDynamicMetaObject
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeOpenMetaObject : public QAbstractDynamicMetaObject
 {
 public:
     QDeclarativeOpenMetaObject(QObject *, bool = true);
diff --git a/src/declarative/util/qdeclarativepixmapcache_p.h b/src/declarative/util/qdeclarativepixmapcache_p.h
index 024c940..30c62ec 100644
--- a/src/declarative/util/qdeclarativepixmapcache_p.h
+++ b/src/declarative/util/qdeclarativepixmapcache_p.h
@@ -42,6 +42,8 @@
 #ifndef QDECLARATIVEPIXMAPCACHE_H
 #define QDECLARATIVEPIXMAPCACHE_H
 
+#include <private/qtquick1global_p.h>
+
 #include <QtCore/qcoreapplication.h>
 #include <QtCore/qstring.h>
 #include <QtGui/qpixmap.h>
@@ -55,7 +57,7 @@ QT_MODULE(Declarative)
 
 class QDeclarativeEngine;
 class QDeclarativePixmapData;
-class Q_DECLARATIVE_EXPORT QDeclarativePixmap
+class Q_QUICK1_EXPORT QDeclarativePixmap
 {
     Q_DECLARE_TR_FUNCTIONS(QDeclarativePixmap)
 public:
diff --git a/src/declarative/util/qdeclarativepropertychanges_p.h b/src/declarative/util/qdeclarativepropertychanges_p.h
index 6de9545..89a7941 100644
--- a/src/declarative/util/qdeclarativepropertychanges_p.h
+++ b/src/declarative/util/qdeclarativepropertychanges_p.h
@@ -52,7 +52,7 @@ QT_BEGIN_NAMESPACE
 QT_MODULE(Declarative)
     
 class QDeclarativePropertyChangesPrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativePropertyChanges : public QDeclarativeStateOperation
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativePropertyChanges : public QDeclarativeStateOperation
 {
     Q_OBJECT
     Q_DECLARE_PRIVATE(QDeclarativePropertyChanges)
diff --git a/src/declarative/util/qdeclarativepropertymap.h b/src/declarative/util/qdeclarativepropertymap.h
index 34010b3..0400775 100644
--- a/src/declarative/util/qdeclarativepropertymap.h
+++ b/src/declarative/util/qdeclarativepropertymap.h
@@ -42,6 +42,7 @@
 #ifndef QDECLARATIVEPROPERTYMAP_H
 #define QDECLARATIVEPROPERTYMAP_H
 
+#include <QtQuick1/qtquick1global.h>
 #include <QtCore/QObject>
 #include <QtCore/QHash>
 #include <QtCore/QStringList>
@@ -54,7 +55,7 @@ QT_BEGIN_NAMESPACE
 QT_MODULE(Declarative)
 
 class QDeclarativePropertyMapPrivate;
-class Q_DECLARATIVE_EXPORT QDeclarativePropertyMap : public QObject
+class Q_QUICK1_EXPORT QDeclarativePropertyMap : public QObject
 {
     Q_OBJECT
 public:
diff --git a/src/declarative/util/qdeclarativestate_p.h b/src/declarative/util/qdeclarativestate_p.h
index 7fe8edc..0d127ff 100644
--- a/src/declarative/util/qdeclarativestate_p.h
+++ b/src/declarative/util/qdeclarativestate_p.h
@@ -46,7 +46,7 @@
 #include <qdeclarativeproperty.h>
 #include <QtCore/qobject.h>
 #include <QtCore/qsharedpointer.h>
-#include <private/qdeclarativeglobal_p.h>
+#include <private/qtquick1global_p.h>
 
 QT_BEGIN_HEADER
 
@@ -58,7 +58,7 @@ class QDeclarativeActionEvent;
 class QDeclarativeAbstractBinding;
 class QDeclarativeBinding;
 class QDeclarativeExpression;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeAction
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeAction
 {
 public:
     QDeclarativeAction();
@@ -115,7 +115,7 @@ public:
 class QDeclarativeStateGroup;
 class QDeclarativeState;
 class QDeclarativeStateOperationPrivate;
-class Q_DECLARATIVE_EXPORT QDeclarativeStateOperation : public QObject
+class Q_QUICK1_EXPORT QDeclarativeStateOperation : public QObject
 {
     Q_OBJECT
 public:
@@ -140,7 +140,7 @@ typedef QDeclarativeStateOperation::ActionList QDeclarativeStateActions;
 
 class QDeclarativeTransition;
 class QDeclarativeStatePrivate;
-class Q_DECLARATIVE_EXPORT QDeclarativeState : public QObject
+class Q_QUICK1_EXPORT QDeclarativeState : public QObject
 {
     Q_OBJECT
 
diff --git a/src/declarative/util/qdeclarativestategroup_p.h b/src/declarative/util/qdeclarativestategroup_p.h
index 10ad8d2..e0d469d 100644
--- a/src/declarative/util/qdeclarativestategroup_p.h
+++ b/src/declarative/util/qdeclarativestategroup_p.h
@@ -51,7 +51,7 @@ QT_BEGIN_NAMESPACE
 QT_MODULE(Declarative)
 
 class QDeclarativeStateGroupPrivate;
-class Q_DECLARATIVE_EXPORT QDeclarativeStateGroup : public QObject, public QDeclarativeParserStatus
+class Q_QUICK1_EXPORT QDeclarativeStateGroup : public QObject, public QDeclarativeParserStatus
 {
     Q_OBJECT
     Q_INTERFACES(QDeclarativeParserStatus)
diff --git a/src/declarative/util/qdeclarativestateoperations_p.h b/src/declarative/util/qdeclarativestateoperations_p.h
index de2075f..d8461d4 100644
--- a/src/declarative/util/qdeclarativestateoperations_p.h
+++ b/src/declarative/util/qdeclarativestateoperations_p.h
@@ -55,7 +55,7 @@ QT_BEGIN_NAMESPACE
 QT_MODULE(Declarative)
 
 class QDeclarativeParentChangePrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeParentChange : public QDeclarativeStateOperation, public QDeclarativeActionEvent
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeParentChange : public QDeclarativeStateOperation, public QDeclarativeActionEvent
 {
     Q_OBJECT
     Q_DECLARE_PRIVATE(QDeclarativeParentChange)
@@ -251,7 +251,7 @@ private:
 };
 
 class QDeclarativeAnchorChangesPrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeAnchorChanges : public QDeclarativeStateOperation, public QDeclarativeActionEvent
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeAnchorChanges : public QDeclarativeStateOperation, public QDeclarativeActionEvent
 {
     Q_OBJECT
     Q_DECLARE_PRIVATE(QDeclarativeAnchorChanges)
diff --git a/src/declarative/util/qdeclarativetimer_p.h b/src/declarative/util/qdeclarativetimer_p.h
index 4270392..0b16c91 100644
--- a/src/declarative/util/qdeclarativetimer_p.h
+++ b/src/declarative/util/qdeclarativetimer_p.h
@@ -47,7 +47,7 @@
 #include <QtCore/qobject.h>
 #include <QtCore/qabstractanimation.h>
 
-#include <private/qdeclarativeglobal_p.h>
+#include <private/qtquick1global_p.h>
 
 QT_BEGIN_HEADER
 
@@ -56,7 +56,7 @@ QT_BEGIN_NAMESPACE
 QT_MODULE(Declarative)
 
 class QDeclarativeTimerPrivate;
-class Q_DECLARATIVE_PRIVATE_EXPORT QDeclarativeTimer : public QObject, public QDeclarativeParserStatus
+class Q_QUICK1_PRIVATE_EXPORT QDeclarativeTimer : public QObject, public QDeclarativeParserStatus
 {
     Q_OBJECT
     Q_DECLARE_PRIVATE(QDeclarativeTimer)
diff --git a/src/declarative/util/qdeclarativetransition_p.h b/src/declarative/util/qdeclarativetransition_p.h
index d224cde..5daf90e 100644
--- a/src/declarative/util/qdeclarativetransition_p.h
+++ b/src/declarative/util/qdeclarativetransition_p.h
@@ -57,7 +57,7 @@ QT_MODULE(Declarative)
 class QDeclarativeAbstractAnimation;
 class QDeclarativeTransitionPrivate;
 class QDeclarativeTransitionManager;
-class Q_DECLARATIVE_EXPORT QDeclarativeTransition : public QObject
+class Q_QUICK1_EXPORT QDeclarativeTransition : public QObject
 {
     Q_OBJECT
     Q_DECLARE_PRIVATE(QDeclarativeTransition)
diff --git a/src/declarative/util/qdeclarativeview.h b/src/declarative/util/qdeclarativeview.h
index 2d09f37..8f0c434 100644
--- a/src/declarative/util/qdeclarativeview.h
+++ b/src/declarative/util/qdeclarativeview.h
@@ -61,7 +61,7 @@ class QDeclarativeContext;
 class QDeclarativeError;
 
 class QDeclarativeViewPrivate;
-class Q_DECLARATIVE_EXPORT QDeclarativeView : public QGraphicsView
+class Q_QUICK1_EXPORT QDeclarativeView : public QGraphicsView
 {
     Q_OBJECT
     Q_PROPERTY(ResizeMode resizeMode READ resizeMode WRITE setResizeMode)
diff --git a/src/declarative/util/qlistmodelinterface_p.h b/src/declarative/util/qlistmodelinterface_p.h
index 6b83ac0..95146d3 100644
--- a/src/declarative/util/qlistmodelinterface_p.h
+++ b/src/declarative/util/qlistmodelinterface_p.h
@@ -45,7 +45,7 @@
 #include <QtCore/QHash>
 #include <QtCore/QVariant>
 
-#include <private/qdeclarativeglobal_p.h>
+#include <private/qtquick1global_p.h>
 
 QT_BEGIN_HEADER
 
@@ -53,7 +53,7 @@ QT_BEGIN_NAMESPACE
 
 QT_MODULE(Declarative)
 
-class Q_DECLARATIVE_PRIVATE_EXPORT QListModelInterface : public QObject
+class Q_QUICK1_PRIVATE_EXPORT QListModelInterface : public QObject
 {
     Q_OBJECT
  public:
diff --git a/tests/auto/declarative/qdeclarativedebughelper/private_headers/qdeclarativedebughelper_p.h b/tests/auto/declarative/qdeclarativedebughelper/private_headers/qdeclarativedebughelper_p.h
index 9854f34..3166a0c 100644
--- a/tests/auto/declarative/qdeclarativedebughelper/private_headers/qdeclarativedebughelper_p.h
+++ b/tests/auto/declarative/qdeclarativedebughelper/private_headers/qdeclarativedebughelper_p.h
@@ -53,7 +53,7 @@ class QDeclarativeEngine;
 
 // Helper methods to access private API through a stable interface
 // This is used in the qmljsdebugger library of QtCreator.
-class Q_DECLARATIVE_EXPORT QDeclarativeDebugHelper
+class Q_QUICK1_EXPORT QDeclarativeDebugHelper
 {
 public:
     static QScriptEngine *getScriptEngine(QDeclarativeEngine *engine);